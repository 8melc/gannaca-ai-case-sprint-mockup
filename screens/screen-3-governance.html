<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Governance | gannaca AI Case Sprint</title>
  <link rel="stylesheet" href="../styles/variables.css">
  <link rel="stylesheet" href="../styles/main.css">
  <link rel="stylesheet" href="../styles/components.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
  
  <!-- Screen-spezifische Styles -->
  <style>
    /* KLICKBARE PRÜFINSTANZ-BOXEN */
    .pruefinstanz-box {
      cursor: pointer;
      transition: all 0.2s ease;
      border-left: 3px solid var(--navy);
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .pruefinstanz-box:hover {
      border-color: var(--orange);
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      transform: translateY(-2px);
    }
    .pruefinstanz-box:hover h4 {
      color: var(--orange);
    }
    .pruefinstanz-box .doc-count {
      font-size: 11px;
      color: var(--text-light);
      display: flex;
      align-items: center;
      gap: 6px;
      margin-top: var(--space-2);
    }
    .pruefinstanz-box .doc-count i {
      width: 14px;
      height: 14px;
    }

    /* MODAL-OVERLAY */
    .doc-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 9999;
      justify-content: center;
      align-items: center;
    }
    .doc-modal.active {
      display: flex;
    }
    .doc-modal-content {
      background: white;
      border-radius: 12px;
      max-width: 600px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    }
    .doc-modal-header {
      padding: 20px 24px;
      border-bottom: 1px solid var(--border-gray);
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      background: var(--off-white);
      border-radius: 12px 12px 0 0;
    }
    .doc-modal-header h3 {
      color: var(--navy);
      font-size: 18px;
      margin: 0;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .doc-modal-header h3 i {
      width: 22px;
      height: 22px;
    }
    .doc-modal-close {
      background: none;
      border: none;
      cursor: pointer;
      padding: 4px;
      color: var(--text-medium);
    }
    .doc-modal-close:hover {
      color: var(--text-dark);
    }
    .doc-modal-body {
      padding: 24px;
    }

    /* DOKUMENT-KATEGORIEN */
    .doc-category {
      margin-bottom: 20px;
    }
    .doc-category:last-child {
      margin-bottom: 0;
    }
    .doc-category-header {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 10px;
      padding-bottom: 8px;
      border-bottom: 1px solid var(--border-gray);
    }
    .doc-category-header i {
      width: 16px;
      height: 16px;
      color: var(--navy);
    }
    .doc-category-header span {
      font-size: 13px;
      font-weight: 600;
      color: var(--text-dark);
    }
    .doc-category-count {
      font-size: 11px;
      color: var(--text-light);
      font-weight: 400;
      margin-left: auto;
    }
    .doc-list {
      list-style: none;
      margin: 0;
      padding: 0;
    }
    .doc-list li {
      font-size: 12px;
      color: var(--text-medium);
      padding: 6px 0;
      border-bottom: 1px solid var(--light-gray);
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .doc-list li:last-child {
      border-bottom: none;
    }
    .doc-list li i {
      width: 14px;
      height: 14px;
      color: var(--text-light);
      flex-shrink: 0;
    }

    /* HINWEIS-BOX */
    .doc-modal-hint {
      margin-top: 20px;
      padding: 12px 16px;
      background: var(--off-white);
      border-radius: 8px;
      font-size: 11px;
      color: var(--text-medium);
      display: flex;
      align-items: flex-start;
      gap: 10px;
    }
    .doc-modal-hint i {
      width: 16px;
      height: 16px;
      color: var(--navy);
      flex-shrink: 0;
      margin-top: 1px;
    }

    @media screen and (min-width: 1920px) {
      /* Kompaktere Tabelle */
      table th, table td {
        padding: 10px 12px;
        font-size: 13px;
      }

      /* Kompaktere Grid-Boxen */
      .grid-3 .box,
      .grid-4 .box {
        padding: 12px 16px;
      }

      .grid-3 .box h4,
      .grid-4 .box h4 {
        font-size: 13px;
        margin-bottom: 4px;
      }

      /* Überschriften kompakter */
      h3 {
        font-size: 16px;
        margin-bottom: 12px;
      }

      p {
        margin-bottom: 12px;
      }

      /* Card kompakter */
      .card {
        padding: 16px 20px;
        margin-bottom: 16px;
      }

      .card h3 {
        margin-bottom: 12px;
      }
    }
  </style>
</head>
<body>
  <div class="page-wrapper">
    
    <!-- NEUER HEADER -->
    <header class="main-header">
      <div class="header-container">
        <div class="header-left">
          <div class="logo-group">
            <img src="../assets/gannaca-logo.png" alt="gannaca" class="gannaca-logo">
            <div class="title-group">
              <h1 class="main-title">gannaca AI Case Sprint</h1>
              <p class="subtitle">Standardisiertes Framework für KI-Use-Case-Entwicklung</p>
            </div>
          </div>
        </div>
        <div class="header-right">
          <img src="../assets/trianel-logo.png" alt="Trianel" class="client-logo">
          <div class="header-info">
            <span class="version-badge">04.02.2026</span>
          </div>
        </div>
      </div>
    </header>
    
    <div class="terminology-mandatory">
      DATENSCHUTZ-KONFORM – KEINE PRODUKTIVDATEN<br>
      Dieses Mockup dient ausschließlich zur Visualisierung.<br>
      Alle gezeigten Beispiele sind fiktiv. Keine Erfassung,<br>
      Verarbeitung oder Speicherung von produktiven Trianel-Daten.
    </div>
    <!-- TERMINOLOGIE-COMPLIANT -->
    
    <!-- NAVIGATION -->
    <nav class="nav-tabs">
      <div class="nav-tabs-inner">
        <a href="screen-0-workshop-process.html" class="nav-tab"><span class="nav-tab-number">0</span> Workshop-Prozess</a>
        <a href="screen-1-overview.html" class="nav-tab"><span class="nav-tab-number">1</span> Übersicht</a>
        <a href="screen-2-kpi.html" class="nav-tab nav-tab-optional"><span class="nav-tab-number">2</span> KPI-Rahmen</a>
        <a href="screen-3-governance.html" class="nav-tab active"><span class="nav-tab-number">3</span> Governance</a>
        <a href="screen-4-success-story.html" class="nav-tab"><span class="nav-tab-number">4</span> Success Story <i data-lucide="sparkles" class="icon-sm"></i></a>
        <a href="screen-6-form.html" class="nav-tab"><span class="nav-tab-number">6</span> Case-Erfassung <i data-lucide="star" class="icon-sm"></i></a>
        <a href="screen-6b-bewertung.html" class="nav-tab"><span class="nav-tab-number">6b</span> Bewertung</a>
        <a href="screen-7-results.html" class="nav-tab"><span class="nav-tab-number">7</span> Ergebnis</a>
        <a href="screen-8-matrix.html" class="nav-tab"><span class="nav-tab-number">8</span> Matrix</a>
      </div>
    </nav>
    
    <!-- MAIN CONTENT -->
    <main class="main-content">
      
      <!-- SLIDE CONTAINER -->
      <div class="slide-container">
        
        <!-- SLIDE HEADER -->
        <div class="slide-header">
          <h1><i data-lucide="users" style="width:26px;height:26px;"></i>Governance & Rollenverteilung</h1>
          <p>Klare Trennung zwischen KI-Unterstützung und menschlicher Entscheidung</p>
        </div>
        
        <!-- SLIDE CONTENT -->
        <div class="slide-content" style="overflow-y: auto;">
        
        <!-- MENSCH VS. KI TABELLE -->
        <div class="card" style="margin-bottom: var(--space-10);">
          <h3 style="margin-bottom: var(--space-6); color: var(--navy);">Aufgabenverteilung: Mensch vs. KI</h3>
          <div class="table-wrapper">
            <table>
              <thead>
                <tr>
                  <th style="width: 30%;">Dimension</th>
                  <th style="width: 35%; background: rgba(26, 58, 92, 0.1);"><i data-lucide="cpu" class="icon-sm icon-with-text"></i>KI übernimmt</th>
                  <th style="width: 35%;"><i data-lucide="user" class="icon-sm icon-with-text"></i>Mensch entscheidet</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>Datenerfassung</strong></td>
                  <td style="background: rgba(26, 58, 92, 0.05);">Automatische Extraktion aus Dokumenten, Strukturierung</td>
                  <td>Validierung der Vollständigkeit, Korrektur von Fehlern</td>
                </tr>
                <tr>
                  <td><strong>Vorprüfung</strong></td>
                  <td style="background: rgba(26, 58, 92, 0.05);">Regelbasierte Checks, Plausibilitätsprüfung</td>
                  <td>Bewertung von Ausnahmen, Kontext-Entscheidungen</td>
                </tr>
                <tr>
                  <td><strong>Risiko-Flagging</strong></td>
                  <td style="background: rgba(26, 58, 92, 0.05);">Markierung auffälliger Fälle, Scoring</td>
                  <td>Finale Risikobewertung, Eskalationsentscheidung</td>
                </tr>
                <tr>
                  <td><strong>Dokumentation</strong></td>
                  <td style="background: rgba(26, 58, 92, 0.05);">Automatische Protokollierung, Audit-Trail</td>
                  <td>Freigabe, Unterschrift, Verantwortungsübernahme</td>
                </tr>
                <tr>
                  <td><strong>Entscheidung</strong></td>
                  <td style="background: rgba(26, 58, 92, 0.05);">Vorschläge mit Begründung</td>
                  <td><strong style="color: var(--navy);">Finale Entscheidung liegt immer beim Menschen</strong></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        
        <!-- GOVERNANCE-REGEL (ZENTRAL & SICHTBAR) -->
        <div style="background: linear-gradient(135deg, #1A3A5C 0%, #2C5282 100%); border-radius: var(--border-radius-lg); padding: 24px 28px; margin-bottom: var(--space-8); color: white;">
          <div style="display: flex; align-items: flex-start; gap: 16px;">
            <div style="background: rgba(255,255,255,0.15); border-radius: 50%; width: 48px; height: 48px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
              <i data-lucide="shield-alert" style="width: 24px; height: 24px;"></i>
            </div>
            <div>
              <h3 style="color: white; margin: 0 0 8px 0; font-size: 16px;">Governance-Trigger-Regel</h3>
              <p style="margin: 0; font-size: 15px; line-height: 1.6; opacity: 0.95;">
                <strong style="background: rgba(255,255,255,0.2); padding: 2px 8px; border-radius: 4px;">Wenn ein Legal-Trigger = „Ja" oder „Unklar" → Prüfinstanz erforderlich</strong>
              </p>
              <p style="margin: 12px 0 0; font-size: 13px; opacity: 0.8; line-height: 1.5;">
                Legal-Trigger umfassen: Entscheidungswirkung, KRITIS-Relevanz, personenbezogene Daten (inkl. besondere Kategorien), Automationsgrad.
                Die Prüfinstanz bewertet anhand der hinterlegten Dokumente und trifft die finale Entscheidung.
              </p>
            </div>
          </div>
        </div>

        <!-- TRIGGER-ÜBERSICHT -->
        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin-bottom: var(--space-8);">
          <div style="background: var(--off-white); border: 1px solid var(--border-gray); border-radius: 8px; padding: 16px; text-align: center;">
            <i data-lucide="scale" style="width: 24px; height: 24px; color: var(--navy); margin-bottom: 8px;"></i>
            <div style="font-weight: 600; font-size: 13px; color: var(--text-dark);">Entscheidungs-<br>wirkung</div>
          </div>
          <div style="background: var(--off-white); border: 1px solid var(--border-gray); border-radius: 8px; padding: 16px; text-align: center;">
            <i data-lucide="shield-alert" style="width: 24px; height: 24px; color: var(--navy); margin-bottom: 8px;"></i>
            <div style="font-weight: 600; font-size: 13px; color: var(--text-dark);">KRITIS-<br>Relevanz</div>
          </div>
          <div style="background: var(--off-white); border: 1px solid var(--border-gray); border-radius: 8px; padding: 16px; text-align: center;">
            <i data-lucide="user-check" style="width: 24px; height: 24px; color: var(--navy); margin-bottom: 8px;"></i>
            <div style="font-weight: 600; font-size: 13px; color: var(--text-dark);">Personenbez.<br>Daten</div>
          </div>
          <div style="background: var(--off-white); border: 1px solid var(--border-gray); border-radius: 8px; padding: 16px; text-align: center;">
            <i data-lucide="cpu" style="width: 24px; height: 24px; color: var(--navy); margin-bottom: 8px;"></i>
            <div style="font-weight: 600; font-size: 13px; color: var(--text-dark);">Automations-<br>grad</div>
          </div>
        </div>

        <!-- RECHTLICHE PRÜFINSTANZEN (REFERENZ) -->
        <h3 style="margin-bottom: var(--space-4); color: var(--text-darkest);">Rechtliche Prüfinstanzen</h3>
        <p style="color: var(--text-medium); margin-bottom: var(--space-6); font-size: var(--text-sm);">
          Trianel agiert als Unternehmen der kritischen Infrastruktur. Für jeden Case sind folgende Prüffelder hinterlegt:
        </p>
        <div class="grid grid-3" style="gap: var(--space-4); margin-bottom: var(--space-10);">

          <div class="box pruefinstanz-box" onclick="openDocModal(1)">
            <h4 style="color: var(--navy); margin-bottom: var(--space-2); font-size: var(--text-sm); display: flex; align-items: center; gap: 6px;">
              <i data-lucide="building-2" class="icon-sm"></i>
              <span>1. KRITIS & IT-Sicherheit</span>
            </h4>
            <div class="doc-count">
              <i data-lucide="folder-check"></i>
              <span>10 Dokumente hinterlegt</span>
            </div>
          </div>

          <div class="box pruefinstanz-box" onclick="openDocModal(2)">
            <h4 style="color: var(--navy); margin-bottom: var(--space-2); font-size: var(--text-sm); display: flex; align-items: center; gap: 6px;">
              <i data-lucide="lock" class="icon-sm"></i>
              <span>2. DSGVO & Datenschutz by Design</span>
            </h4>
            <div class="doc-count">
              <i data-lucide="folder-check"></i>
              <span>8 Dokumente hinterlegt</span>
            </div>
          </div>

          <div class="box pruefinstanz-box" onclick="openDocModal(3)">
            <h4 style="color: var(--navy); margin-bottom: var(--space-2); font-size: var(--text-sm); display: flex; align-items: center; gap: 6px;">
              <i data-lucide="cpu" class="icon-sm"></i>
              <span>3. AI Act</span>
            </h4>
            <div class="doc-count">
              <i data-lucide="folder-check"></i>
              <span>6 Dokumente hinterlegt</span>
            </div>
          </div>

          <div class="box pruefinstanz-box" onclick="openDocModal(4)">
            <h4 style="color: var(--navy); margin-bottom: var(--space-2); font-size: var(--text-sm); display: flex; align-items: center; gap: 6px;">
              <i data-lucide="clipboard-list" class="icon-sm"></i>
              <span>4. Auditierbarkeit & Nachvollziehbarkeit</span>
            </h4>
            <div class="doc-count">
              <i data-lucide="folder-check"></i>
              <span>6 Dokumente hinterlegt</span>
            </div>
          </div>

          <div class="box pruefinstanz-box" onclick="openDocModal(5)">
            <h4 style="color: var(--navy); margin-bottom: var(--space-2); font-size: var(--text-sm); display: flex; align-items: center; gap: 6px;">
              <i data-lucide="scale" class="icon-sm"></i>
              <span>5. Haftungs-, Revisions- & Dokumentationspflichten</span>
            </h4>
            <div class="doc-count">
              <i data-lucide="folder-check"></i>
              <span>7 Dokumente hinterlegt</span>
            </div>
          </div>

          <div class="box pruefinstanz-box" onclick="openDocModal(6)">
            <h4 style="color: var(--navy); margin-bottom: var(--space-2); font-size: var(--text-sm); display: flex; align-items: center; gap: 6px;">
              <i data-lucide="ban" class="icon-sm"></i>
              <span>6. Vermeidung Vendor-Lock-in & Schatten-IT</span>
            </h4>
            <div class="doc-count">
              <i data-lucide="folder-check"></i>
              <span>9 Dokumente hinterlegt</span>
            </div>
          </div>

        </div>
        
        <!-- GOVERNANCE-PRINZIPIEN -->
        <h3 style="margin-bottom: var(--space-4); color: var(--text-darkest);">Governance-Prinzipien</h3>
        <div class="grid grid-4" style="gap: var(--space-4); margin-bottom: var(--space-10);">

          <div class="box box-highlight" style="padding: var(--space-4);">
            <h4 style="color: var(--navy); margin-bottom: 0; font-size: var(--text-sm); display: flex; align-items: center; gap: 6px;">
              <i data-lucide="search" class="icon-sm"></i>
              <span>Explainability</span>
            </h4>
          </div>

          <div class="box box-highlight" style="padding: var(--space-4);">
            <h4 style="color: var(--navy); margin-bottom: 0; font-size: var(--text-sm); display: flex; align-items: center; gap: 6px;">
              <i data-lucide="user" class="icon-sm"></i>
              <span>Human-in-the-Loop</span>
            </h4>
          </div>

          <div class="box box-highlight" style="padding: var(--space-4);">
            <h4 style="color: var(--navy); margin-bottom: 0; font-size: var(--text-sm); display: flex; align-items: center; gap: 6px;">
              <i data-lucide="clipboard-list" class="icon-sm"></i>
              <span>Audit-Trail</span>
            </h4>
          </div>

          <div class="box box-highlight" style="padding: var(--space-4);">
            <h4 style="color: var(--navy); margin-bottom: 0; font-size: var(--text-sm); display: flex; align-items: center; gap: 6px;">
              <i data-lucide="lock" class="icon-sm"></i>
              <span>Datenschutz by Design</span>
            </h4>
          </div>

        </div>
        
        <!-- ESKALATIONS-HINWEIS - AUSGEKLAMMERT
        <div class="info-box" style="background: var(--off-white);">
          <div class="info-box-icon"><i data-lucide="zap"></i></div>
          <div class="info-box-title">Eskalations-Logik</div>
          <div class="info-box-text">
            <p style="margin-bottom: var(--space-4);">Bei folgenden Situationen wird automatisch eskaliert:</p>
            <div style="display: flex; gap: var(--space-6); flex-wrap: wrap;">
              <div style="display: flex; align-items: center; gap: var(--space-2);">
                <span style="display: inline-block; width: 12px; height: 12px; background: var(--text-darkest); border-radius: 50%;"></span>
                <span>Risiko-Score ≥ 4 → Teamleiter</span>
              </div>
              <div style="display: flex; align-items: center; gap: var(--space-2);">
                <span style="display: inline-block; width: 12px; height: 12px; background: var(--text-dark); border-radius: 50%;"></span>
                <span>Compliance-Relevanz → Compliance-Beauftragter</span>
              </div>
              <div style="display: flex; align-items: center; gap: var(--space-2);">
                <span style="display: inline-block; width: 12px; height: 12px; background: var(--text-medium); border-radius: 50%;"></span>
                <span>KI unsicher (< 70% Confidence) → Manueller Review</span>
              </div>
            </div>
          </div>
        </div>
        -->
        
        </div><!-- /slide-content -->
        
        <!-- SLIDE FOOTER -->
        <div class="slide-footer">
          <a href="screen-2-kpi.html" class="btn btn-secondary">← Zurück zu KPI-Rahmen</a>
          <a href="screen-4-success-story.html" class="btn btn-primary">Weiter zu Success Story →</a>
        </div>
        
      </div><!-- /slide-container -->
      
    </main>
    
    <footer class="footer">
      <div class="footer-inner">
        <span>© 2026 gannaca AI Case Sprint</span>
      </div>
    </footer>
  </div><!-- /page-wrapper -->

  <!-- MODAL-OVERLAYS FÜR PRÜFINSTANZEN -->
  <div class="doc-modal" id="docModal" onclick="closeDocModal(event)">
    <div class="doc-modal-content" onclick="event.stopPropagation()">
      <div class="doc-modal-header">
        <h3 id="modalTitle"><i data-lucide="folder"></i> <span>Prüfinstanz</span></h3>
        <button class="doc-modal-close" onclick="closeDocModal()">
          <i data-lucide="x" style="width: 20px; height: 20px;"></i>
        </button>
      </div>
      <div class="doc-modal-body" id="modalBody">
        <!-- Dynamisch gefüllt -->
      </div>
    </div>
  </div>

  <!-- Active Tab Highlighting -->
  <script>
    // Markiere aktuellen Tab als "active"
    const currentPage = window.location.pathname.split('/').pop();
    document.querySelectorAll('.nav-tab').forEach(tab => {
      tab.classList.remove('active');
      if (tab.getAttribute('href') === currentPage) {
        tab.classList.add('active');
      }
    });
  </script>

  <!-- DOKUMENT-DATEN (nur Titel, Kategorien, Anzahl - KEINE Inhalte) -->
  <script>
    const pruefinstanzData = {
      1: {
        title: 'KRITIS & IT-Sicherheit',
        icon: 'building-2',
        categories: [
          {
            name: 'Trianel-Analyse',
            icon: 'file-text',
            docs: ['Trianel - Legal - 1 - KRITIS u. IT-Sicherheit']
          },
          {
            name: 'Fachbeiträge',
            icon: 'book-open',
            docs: [
              'Der Schutz der kritischen Infrastruktur in herausfordernden Zeiten',
              'KI und BIM in Infrastrukturprojekten',
              'Schutz der sog. kritischen Infrastruktur'
            ]
          },
          {
            name: 'Gesetzestexte',
            icon: 'scale',
            docs: ['BSI-KritisV', 'BSIG', 'CER-Richtlinie (EU) 2022/2557', 'EnWG', 'KRITISDachG', 'NIS2-Umsetzungsgesetz']
          }
        ]
      },
      2: {
        title: 'DSGVO & Datenschutz by Design',
        icon: 'lock',
        categories: [
          {
            name: 'Trianel-Analyse',
            icon: 'file-text',
            docs: ['Trianel - Legal - 2 - DSGVO u. Datenschutz by Design']
          },
          {
            name: 'Fachbeiträge',
            icon: 'book-open',
            docs: [
              'KI und KI-Verordnung aus datenschutzrechtlicher Sicht',
              'KI-VO als datenschutzrechtliche Herausforderung'
            ]
          },
          {
            name: 'Gesetzestexte',
            icon: 'scale',
            docs: ['BDSG', 'DSGVO', 'Data Act', 'GV.NRW', 'KI-VO']
          }
        ]
      },
      3: {
        title: 'AI Act',
        icon: 'cpu',
        categories: [
          {
            name: 'Trianel-Analyse',
            icon: 'file-text',
            docs: ['Trianel - Legal - 3 - AI Act']
          },
          {
            name: 'Fachbeiträge',
            icon: 'book-open',
            docs: [
              'Die Anforderungen an das Qualitätsmanagement durch die KI-Verordnung',
              'Die Klassifizierung von KI-Systemen nach der KI-VO',
              'Einführung KI-Verordnung: Grundlagen, Begriffe und Pflichtenkatalog'
            ]
          },
          {
            name: 'Gesetzestexte',
            icon: 'scale',
            docs: ['BNetzA Durchführung KI-VO', 'KI-VO']
          }
        ]
      },
      4: {
        title: 'Auditierbarkeit & Nachvollziehbarkeit',
        icon: 'clipboard-list',
        categories: [
          {
            name: 'Trianel-Analyse',
            icon: 'file-text',
            docs: ['Trianel - Legal - 4 - Auditierbarkeit u. Nachvollziehbarkeit v. KI-Entscheidungen']
          },
          {
            name: 'Fachbeiträge',
            icon: 'book-open',
            docs: [
              'Best Practices für die KI-Integration',
              'Entwicklung von Audit-Kontrollen',
              'KI-Compliance im Unternehmen',
              'Smart Structures for Smart Systems: Die Integration der KI-VO in bestehende Compliance-Strukturen'
            ]
          },
          {
            name: 'Gesetzestexte',
            icon: 'scale',
            docs: ['KI-VO']
          }
        ]
      },
      5: {
        title: 'Haftungs-, Revisions- & Dokumentationspflichten',
        icon: 'scale',
        categories: [
          {
            name: 'Trianel-Analyse',
            icon: 'file-text',
            docs: ['Trianel - Legal - 5 - Haftungs-, Revisions- und Dokumentationspflichten']
          },
          {
            name: 'Gesetzestexte',
            icon: 'scale',
            docs: ['BGB', 'BSIG', 'KI-VO', 'NIS-2', 'Produkthaftungsrichtlinie', 'ProdHaftG']
          }
        ]
      },
      6: {
        title: 'Vermeidung Vendor-Lock-in & Schatten-IT',
        icon: 'ban',
        categories: [
          {
            name: 'Trianel-Analyse',
            icon: 'file-text',
            docs: [
              'Trianel - Legal - 6 - Vermeidung von Vendor-Lock-in & Schatten-IT',
              'AI Case Sprint Legal intern'
            ]
          },
          {
            name: 'Gesetzestexte',
            icon: 'scale',
            docs: ['BGB', 'BSIG', 'DSGVO', 'GmbHG', 'KI-VO', 'NIS-2', 'EU-Verordnung 2023/2854 (Data Act)']
          }
        ]
      }
    };

    function openDocModal(id) {
      const data = pruefinstanzData[id];
      if (!data) return;

      // Titel setzen
      document.getElementById('modalTitle').innerHTML =
        `<i data-lucide="${data.icon}"></i> <span>${data.title}</span>`;

      // Body generieren
      let html = '';
      data.categories.forEach(cat => {
        html += `
          <div class="doc-category">
            <div class="doc-category-header">
              <i data-lucide="${cat.icon}"></i>
              <span>${cat.name}</span>
              <span class="doc-category-count">${cat.docs.length} Dokument${cat.docs.length > 1 ? 'e' : ''}</span>
            </div>
            <ul class="doc-list">
              ${cat.docs.map(doc => `<li><i data-lucide="file-text"></i> ${doc}</li>`).join('')}
            </ul>
          </div>
        `;
      });

      html += `
        <div class="doc-modal-hint">
          <i data-lucide="info"></i>
          <span>Diese Dokumente werden durch die menschliche Prüfinstanz auf den jeweiligen Case angewendet. Die finale Entscheidung (Go / No-Go / Auflagen) liegt beim Menschen.</span>
        </div>
      `;

      document.getElementById('modalBody').innerHTML = html;
      document.getElementById('docModal').classList.add('active');

      // Icons neu initialisieren
      lucide.createIcons();
    }

    function closeDocModal(event) {
      if (event && event.target !== document.getElementById('docModal')) return;
      document.getElementById('docModal').classList.remove('active');
    }

    // ESC-Taste zum Schließen
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeDocModal();
    });
  </script>

  <!-- Initialize Lucide Icons -->
  <script>lucide.createIcons();</script>
</body>
</html>
